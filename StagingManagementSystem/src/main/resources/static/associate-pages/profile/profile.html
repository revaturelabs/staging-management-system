<link rel="stylesheet" href="./associate-pages/profile/profile.css"/>

<div class="container" id="main-profile">

  <div class="panel panel-primary" id="profile-panel">
    <div class="panel-heading">
      <h3 class="panel-title">User Profile Information</h3>
    </div>
    <div class="panel-body">
      <dl>
        <div class="row">
          <div class="col-md-6 col-sm-6 col-xs-6">
            <dt>Name</dt>
            <dd ng-bind="associate.name"></dd>
          </div>
          <div class="col-md-6 col-sm-6 col-xs-6">
            <dt>Batch</dt>
            <dd>
              <span ng-bind-template="{{associate.batch.batchType.value}} - "></span>
              <span ng-repeat="trainer in associate.batch.trainers">
                <span ng-bind="trainer.name"></span>
              </span>
            </dd>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-sm-6 col-xs-6">
            <dt>
              Profile URL
              <span style="cursor: pointer;" ng-click="openPortfolioUrlModal()">
                <span class="glyphicon glyphicon-edit"></span>
              </span>
            </dt>
            <dd>
              <span>
                <a ng-href="{{associate.portfolioLink}}">Profile Link</a>
              </span>
            </dd>
          </div>
          <div class="col-md-6 col-sm-6 col-xs-6">
            <dt>Status</dt>
            <dd ng-bind-template="{{associate.active === true ? 'Active': 'Not active'}}"></dd>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <dt>
              Skills
              <span style="cursor: pointer;" ng-click="toggleSkillsModal()">
                <span class="glyphicon glyphicon-edit"></span>
              </span>
            </dt>
            <dd>
              <span ng-repeat="skill in associate.batch.batchType.skills">
                <span class="badge skill-badge batch-skill" ng-bind="skill.value"></span>
              </span>
              <span ng-repeat="skill in associate.skills">
                <span class="badge skill-badge" ng-bind="skill.value"></span>
              </span>
              <input class="form-control" ng-show="profileData.skillsInputShowing" />
            </dd>
          </div>
        </div>
      </dl>
    </div>
  </div>

</div>
<div class="modal fade" id="additionalSkillsModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add or remove skills</h4>
      </div>
      <div class="modal-body">
        <div id="modal-skills-wrapper">
          <ul class="list-group">
            <li ng-repeat="skill in additionalSkillsValues" class="list-group-item">
              <span ng-bind="skill.value"></span>
              <span class="pull-right">
                <button class="btn btn-xs btn-danger">
                  <span ng-click="removeSkill(skill)" class="glyphicon glyphicon-trash"></span>
                </button>
              </span>
            </li>
          </ul>
        </div>
        <div id="new-skill-input" class="input-group">
          <span class="input-group-addon"><i class="glyphicon glyphicon-plus"></i></span>
          <input ng-model="newSkillValue" type="text" class="form-control" placeholder="Add new skill">
          <span class="input-group-btn">
             <button ng-click="addSkill()" class="btn btn-default" type="button">Add</button>
          </span>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button ng-click="submitSkills()" ng-class="{ disabled: sendingRequest }" ng-bind="skillsModalButtonValue" type="button" class="btn btn-primary"></button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="portfolioUrlModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Edit Portfolio URL</h4>
      </div>
      <div class="modal-body">
        Please edit your portfolio url here.
        <div class="form-group">
          <input ng-model="portfolioUrlInput" class="form-control" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button ng-click="submitPortfolioUrl()" ng-class="{ disabled: sendingRequest }" ng-bind="portfolioModalButtonValue" type="button" class="btn btn-primary"></button>
      </div>
    </div>
  </div>
</div>
